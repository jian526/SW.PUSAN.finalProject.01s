<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="/static/css/index.css" />
    <title>Argos. ë¬´ì¸ì í¬ ì´ìƒí–‰ë™ ê°ì§€ AIì‹œìŠ¤í…œ</title>

    <style>
      .call-modal {
        width: 330px;
        height: 300px;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: 10px;
        background: #FAFBFF;
        z-index: 1000;
        display: none;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }


        .modal-box {
        width: 330px;
        height: 300px;
        background: #FAFBFF;
        border-radius: 10px;
        position: absolute;
        top: 0;
        left: 0;
        }

        .modal-text {
        position: absolute;
        top: 33px;
        left: 15px;
        width: 300px;
        height: 161px;
        text-align: center;
        color: black;
        font-size: 17px;
        font-family: 'Noto Sans KR';
        font-weight: 500;
        line-height: 23px;
        }

        .btn {
        width: 123px;
        height: 35px;
        border-radius: 4px;
        position: absolute;
        top: 219px;
        font-size: 14px;
        font-family: 'Noto Sans KR';
        font-weight: 700;
        line-height: 20px;
        text-align: center;
        padding-top: 15px;
        padding-bottom: 15px;
        cursor: pointer;
        }

        a{
            text-decoration: none;
        }

        .confirm-btn {
        left: 28px;
        background: #3256FE;
        color: #FAFBFF;
        height: 50px;
        }

        .cancel-btn {
        left: 179px;
        background: #EBEEFF;
        color: #3256FE;
        height: 50px;
        }

        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100vw;
          height: 100vh;
          background-color: rgba(0, 0, 0, 0.4); /* ê²€ì€ ë°˜íˆ¬ëª… */
          backdrop-filter: blur(4px);           /* íë¦¼ íš¨ê³¼ */
          z-index: 998;
        }


        </style>
  </head>
  <body>
    <div class="main-dashboard">
      <div class="div">
        <div class="group">
          <div class="overlap-group">
            <div class="rectangle"></div>
            <div class="group-2">
              <div class="group-3">
                <a href="/alerts"><img class="phosphor-icons" src="/static/images/envelopesimple.svg" /></a>
                <a href="/mypage"><img class="img" src="/static/images/usercircle.svg" /></a>
              </div>
              <img class="logo-s" src="/static/images/logo_s 1.png" />
            </div>
          </div>
        </div>
        <div class="group-4">
          <div class="group-5">
            <div class="text-wrapper">ì˜¤ëŠ˜&nbsp;&nbsp;ì•Œë¦¼</div>
            <div class="overlap-group-2">
              <div class="text-wrapper-2">ê±´</div>
              <div class="text-wrapper-3">3</div>
            </div>
          </div>
          <div class="text-wrapper-4">â€˜ì í¬ëª…â€™ ì </div>
        </div>
        <div class="group-6">
          <a href="/live">
            <div class="overlap-group-wrapper">
              <div class="overlap-group-3">
                <img class="frame" src="/static/images/frame.svg" />
                <div class="text-wrapper-5">ì‹¤ì‹œê°„<br />í™”ë©´</div>
              </div>
            </div>
          </a>
          <a href="#">
            <div class="overlap-wrapper">
              <div class="overlap-group-3">
                <div class="text-wrapper-5">ê¸´ê¸‰<br />í˜¸ì¶œ</div>
                <img class="frame" src="/static/images/Frame02.svg" />
              </div>
            </div>
          </a>
          <a href="/videos/video">
            <div class="div-wrapper">
              <div class="overlap-group-3">
                <img class="frame" src="/static/images/Frame03.svg" />
                <div class="text-wrapper-5">ê¸°ë¡<br />ì—´ëŒ</div>
              </div>
            </div>
          </a>
          <div class="group-7">
            <a href="/cctvs/cctv_edit">
              <div class="overlap">
                <div class="text-wrapper-5">CCTV<br />í¸ì§‘</div>
                <img class="group-8" src="/static/images/Group 12.svg" />
              </div>
            </a>
          </div>
        </div>
        <div class="group-9">
          <div class="overlap-2">
            <div class="group-10">
              <div class="overlap-group-4"><div class="text-wrapper-6">MAIN</div></div>
            </div>
            <div class="group-11">
              <a href="/video_alerts"><div class="overlap-3"><div class="text-wrapper-7">ê¸°ë¡ë³´ê¸°</div></div></a>
            </div>
            <div class="video-wrapper">
              <img id="live-video" alt="ì‹¤ì‹œê°„ CCTV1">
            </div>
          </div>
        </div>
      </div>

      
      <div id="modalOverlay" class="modal-overlay" style="display: none;"></div>
      <div id="emergencyModal" class="call-modal" style="display: none;">
        <div class="modal-box"></div>

        <a href="tel:01012345678" id="confirmBtn" class="btn confirm-btn">í™•ì¸</a>
        <div class="btn cancel-btn" id="cancelBtn">ì·¨ì†Œ</div>

        <div class="modal-text">
            ğŸš¨ ì¶œë™ì„ ìš”ì²­í•˜ì‹œê² ìŠµë‹ˆê¹Œ?<br><br>
            ì¶œë™ ìš”ì²­ì€ ì œíœ´ëœ ë³´ì•ˆì—…ì²´ì— ì¦‰ì‹œ <br>
            ì „ë‹¬ë˜ë©°, ë“±ë¡ëœ ë¹„ìƒ ì—°ë½ì²˜<br>(010-1234-5678)ë¡œ ì „í™”ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.<br><br>
            í™•ì¸ ì‹œ, ì¦‰ì‹œ ì „í™”ê°€ ì—°ê²°ë©ë‹ˆë‹¤.
        </div>
    </div>


    </div>
      
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const modal = document.getElementById("emergencyModal");
        const overlay = document.getElementById("modalOverlay");
        const emergencyBtn = document.querySelector('a[href="#"]');
        const cancelBtn = document.getElementById("cancelBtn");

        emergencyBtn.addEventListener("click", (e) => {
          e.preventDefault();
          modal.style.display = "flex";
          overlay.style.display = "block"; 
        });

        cancelBtn.addEventListener("click", () => {
          modal.style.display = "none";
          overlay.style.display = "none"; 
        });
      });

  const storeImg = document.getElementById("live-video");
  const storeWs = new WebSocket("ws://127.0.0.1:8050/ws");

  storeWs.onmessage = (event) => {
  storeImg.src = "data:image/jpeg;base64," + event.data;
   };

   storeWs.onopen = () => console.log("âœ… [index.html] WebSocket ì—°ê²°ë¨");
   storeWs.onclose = () => console.log("âŒ [index.html] WebSocket ëŠê¹€");
   </script>


  </body>

  
</html>
